From f00537444ae9236250924da950536f68268c08dc Mon Sep 17 00:00:00 2001
From: sosuke iwabuchi <ii.iwabuchi@gmail.com>
Date: Tue, 28 Mar 2017 19:06:51 +0900
Subject: [PATCH] =?UTF-8?q?=E9=80=94=E4=B8=AD?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 app/Definitions/FunctionsDefinition.php  |   31 +-
 app/Http/Controllers/LoginController.php |    1 +
 app/Http/Kernel.php                      |    1 +
 app/Http/Middleware/LoginMiddleware.php  |   27 +
 app/Http/Middleware/VerifyCsrfToken.php  |    5 +-
 app/Services/LoginService.php            |    6 +-
 config/session.php                       |    2 +-
 public/assets/js/common.js               |    1 +
 resources/views/css3-mediaqueries.js     | 1157 ------------------------------
 resources/views/goaisatu.blade.php       |  210 ------
 resources/views/html5.js                 |    8 -
 resources/views/index.blade.php          |  234 ------
 resources/views/js/login-js.blade.php    |   14 +-
 resources/views/login.blade.php          |    6 +-
 resources/views/welcome.blade.php        |   95 ---
 routes/web.php                           |   13 +-
 16 files changed, 82 insertions(+), 1729 deletions(-)
 create mode 100644 app/Http/Middleware/LoginMiddleware.php
 delete mode 100644 resources/views/css3-mediaqueries.js
 delete mode 100644 resources/views/goaisatu.blade.php
 delete mode 100644 resources/views/html5.js
 delete mode 100644 resources/views/index.blade.php
 delete mode 100644 resources/views/welcome.blade.php

diff --git a/app/Definitions/FunctionsDefinition.php b/app/Definitions/FunctionsDefinition.php
index 91d8705..d09fc5b 100644
--- a/app/Definitions/FunctionsDefinition.php
+++ b/app/Definitions/FunctionsDefinition.php
@@ -7,27 +7,36 @@ namespace App\Definitions;
  */
 class FunctionsDefinition
 {
-    const LOGIN_VIEW = "LOGIN_VIEW";
-    const LOGIN = "LOGIN";
-    const MEMBER_REGIST = "MEMBER_REGIST";
+    const VIEW_LOGIN = "VIEW_LOGIN";
+    const VIEW_INDEX = "VIEW_INDEX";
+    const GET_LOGIN = "GET_LOGIN";
+    const REGIST_NEW_MEMBER = "REGIST_NEW_MEMBER";
 
     const URL = [
-        self::LOGIN_VIEW => "login/index",
-        self::LOGIN => "login/login",
-        self::MEMBER_REGIST => "member/regist",
+        self::VIEW_LOGIN => "login/index",
+        self::VIEW_INDEX => "member/index",
+        self::GET_LOGIN => "login/login",
+        self::REGIST_NEW_MEMBER => "member/regist",
     ];
 
     const CONTROLLER = [
-        self::LOGIN_VIEW => "LoginController@getView",
-        self::LOGIN => "LoginController@login",
-        self::MEMBER_REGIST => "LoginController@regist",
+        self::VIEW_LOGIN => "LoginController@getView",
+        self::VIEW_INDEX => "LoginController@getView",
+        self::GET_LOGIN => "LoginController@login",
+        self::REGIST_NEW_MEMBER => "LoginController@regist",
     ];
 
     const VIEW = [
-        self::LOGIN_VIEW => "login",
+        self::VIEW_LOGIN => "login",
     ];
 
     const TITLE = [
-        self::LOGIN_VIEW => "LOGIN",
+        self::VIEW_LOGIN => "LOGIN",
+    ];
+
+    const IGNORE_LOGIN_MIDDLEWARE = [
+        self::VIEW_LOGIN => self::VIEW_LOGIN,
+        self::GET_LOGIN => self::GET_LOGIN,
+        self::REGIST_NEW_MEMBER => self::REGIST_NEW_MEMBER,
     ];
 }
diff --git a/app/Http/Controllers/LoginController.php b/app/Http/Controllers/LoginController.php
index c92935f..c669dee 100644
--- a/app/Http/Controllers/LoginController.php
+++ b/app/Http/Controllers/LoginController.php
@@ -27,6 +27,7 @@ class LoginController extends BaseController
      */
     public function getView(Request $request)
     {
+        var_dump(\Session::all());
         return view(FunctionsDefinition::VIEW[array_search($request->path(), FunctionsDefinition::URL)]);
     }
 
diff --git a/app/Http/Kernel.php b/app/Http/Kernel.php
index 66d34c3..ec5d5e1 100644
--- a/app/Http/Kernel.php
+++ b/app/Http/Kernel.php
@@ -56,5 +56,6 @@ class Kernel extends HttpKernel
         'can' => \Illuminate\Auth\Middleware\Authorize::class,
         'guest' => \App\Http\Middleware\RedirectIfAuthenticated::class,
         'throttle' => \Illuminate\Routing\Middleware\ThrottleRequests::class,
+        'login' => \App\Http\Middleware\LoginMiddleware::class,
     ];
 }
diff --git a/app/Http/Middleware/LoginMiddleware.php b/app/Http/Middleware/LoginMiddleware.php
new file mode 100644
index 0000000..b780491
--- /dev/null
+++ b/app/Http/Middleware/LoginMiddleware.php
@@ -0,0 +1,27 @@
+<?php
+
+namespace App\Http\Middleware;
+
+use Closure;
+use App\Definitions\FunctionsDefinition;
+
+class LoginMiddleware
+{
+    /**
+     * Handle an incoming request.
+     *
+     * @param  \Illuminate\Http\Request  $request
+     * @param  \Closure  $next
+     * @return mixed
+     */
+    public function handle($request, Closure $next)
+    {
+        $session = session()->has('auth');
+        if (!$session) {
+            $ret = redirect(FunctionsDefinition::LOGIN_VIEW);
+        } else {
+            $ret = $next($request);
+        }
+        return $ret;
+    }
+}
diff --git a/app/Http/Middleware/VerifyCsrfToken.php b/app/Http/Middleware/VerifyCsrfToken.php
index 6a12b80..341aebc 100644
--- a/app/Http/Middleware/VerifyCsrfToken.php
+++ b/app/Http/Middleware/VerifyCsrfToken.php
@@ -27,8 +27,11 @@ class VerifyCsrfToken extends BaseVerifier
         if ($request->ajax() && $request->header('X-CSRF-TOKEN') !== "") {
             $ret = true;
             return $ret;
+        } elseif ( isset($request->_token) && $request->_token !== "" ) {
+            $ret = true;
+            return $ret;
         } else {
-            //
+            
         }
     }
 }
diff --git a/app/Services/LoginService.php b/app/Services/LoginService.php
index 61a1c7b..6ec4c24 100644
--- a/app/Services/LoginService.php
+++ b/app/Services/LoginService.php
@@ -42,7 +42,10 @@ class LoginService
                     'code' => '0',
                     'url' => '',
                 ];
-                session(json_decode(json_encode($member), true));
+                // session(json_decode(json_encode($member), true));
+                // session(['auth' => true]);
+                \Session::put('b', 'c');
+                \Log::debug(\Session::all());
             } else {
                 $ret = [
                     'code' => '1',
@@ -91,7 +94,6 @@ class LoginService
                     'accessTime' => getAccessTime(),
                 ];
             });
-            session(['DEBUG-HEI' => 'OK']);
 
         } catch (\Exception $e) {
             createErrorLog($e, $condition);
diff --git a/config/session.php b/config/session.php
index bacd64d..ffb8338 100644
--- a/config/session.php
+++ b/config/session.php
@@ -16,7 +16,7 @@ return [
     |
     */
 
-    'driver' => env('SESSION_DRIVER', 'database'),
+    'driver' => env('SESSION_DRIVER', 'file'),
 
     /*
     |--------------------------------------------------------------------------
diff --git a/public/assets/js/common.js b/public/assets/js/common.js
index 7cee3da..e31ae40 100644
--- a/public/assets/js/common.js
+++ b/public/assets/js/common.js
@@ -24,6 +24,7 @@ var execAjax = function(url, formObj, funcCallack, funcFaiiCallack) {
 
     // 通信完了コールバック
     process.done(function(data) {
+        console.log(data)
       funcCallack(data);
     });
 
diff --git a/resources/views/css3-mediaqueries.js b/resources/views/css3-mediaqueries.js
deleted file mode 100644
index 2fec7f4..0000000
--- a/resources/views/css3-mediaqueries.js
+++ /dev/null
@@ -1,1157 +0,0 @@
-/*
-css3-mediaqueries.js - CSS Helper and CSS3 Media Queries Enabler
-author: Wouter van der Graaf <wouter at dynora nl>
-version: 1.0 (20110330)
-license: MIT
-website: http://code.google.com/p/css3-mediaqueries-js/
-W3C spec: http://www.w3.org/TR/css3-mediaqueries/
-Note: use of embedded <style> is not recommended when using media queries, because IE  has no way of returning the raw literal css text from a <style> element.
-*/
-
-
-// true prototypal inheritance (http://javascript.crockford.com/prototypal.html)
-if (typeof Object.create !== 'function') {
-	Object.create = function (o) {
-		function F() {}
-		F.prototype = o;
-		return new F();
-	};
-}
-
-
-// user agent sniffing shortcuts
-var ua = {
-	toString: function () {
-		return navigator.userAgent;
-	},
-	test: function (s) {
-		return this.toString().toLowerCase().indexOf(s.toLowerCase()) > -1;
-	}
-};
-ua.version = (ua.toString().toLowerCase().match(/[\s\S]+(?:rv|it|ra|ie)[\/: ]([\d.]+)/) || [])[1];
-ua.webkit = ua.test('webkit');
-ua.gecko = ua.test('gecko') && !ua.webkit;
-ua.opera = ua.test('opera');
-ua.ie = ua.test('msie') && !ua.opera;
-ua.ie6 = ua.ie && document.compatMode && typeof document.documentElement.style.maxHeight === 'undefined';
-ua.ie7 = ua.ie && document.documentElement && typeof document.documentElement.style.maxHeight !== 'undefined' && typeof XDomainRequest === 'undefined';
-ua.ie8 = ua.ie && typeof XDomainRequest !== 'undefined';
-
-
-
-// initialize when DOM content is loaded
-var domReady = function () {
-	var fns = [];
-	var init = function () {
-		if (!arguments.callee.done) { // run init functions once
-			arguments.callee.done = true;
-			for (var i = 0; i < fns.length; i++) {
-				fns[i]();
-			}
-		}
-	};
-
-	// listeners for different browsers
-	if (document.addEventListener) {
-		document.addEventListener('DOMContentLoaded', init, false);
-	}
-	if (ua.ie) {
-		(function () {
-			try {
-				// throws errors until after ondocumentready
-				document.documentElement.doScroll('left');
-
-				// If we are in an iframe, the above does not work properly.
-        // Trying to access the length attribute of document.body, however,
-        // does throw an error until ondocumentready, fixing this issue.
-        document.body.length;
-			}
-			catch (e) {
-				setTimeout(arguments.callee, 50);
-				return;
-			}
-			// no errors, fire
-			init();
-		})();
-		// trying to always fire before onload
-		document.onreadystatechange = function () {
-			if (document.readyState === 'complete') {
-				document.onreadystatechange = null;
-				init();
-			}
-		};
-	}
-	if (ua.webkit && document.readyState) {
-		(function () {
-			if (document.readyState !== 'loading') {
-				init();
-			}
-			else {
-				setTimeout(arguments.callee, 10);
-			}
-		})();
-	}
-	window.onload = init; // fallback
-
-  return function (fn) { // add fn to init functions
-    if (typeof fn === 'function') {
-      // If DOM ready has already been fired, fire the function
-      // right away.
-      if(init.done) {
-        fn();
-      } else {
-        // Add to the queue
-        fns[fns.length] = fn;
-      }
-    }
-    return fn;
-  };
-}();
-
-
-// helper library for parsing css to objects
-var cssHelper = function () {
-
-	var regExp = {
-		BLOCKS: /[^\s{;][^{;]*\{(?:[^{}]*\{[^{}]*\}[^{}]*|[^{}]*)*\}/g,
-		BLOCKS_INSIDE: /[^\s{][^{]*\{[^{}]*\}/g,
-		DECLARATIONS: /[a-zA-Z\-]+[^;]*:[^;]+;/g,
-		RELATIVE_URLS: /url\(['"]?([^\/\)'"][^:\)'"]+)['"]?\)/g,
-		// strip whitespace and comments, @import is evil
-		REDUNDANT_COMPONENTS: /(?:\/\*([^*\\\\]|\*(?!\/))+\*\/|@import[^;]+;|@-moz-document\s*url-prefix\(\)\s*{(([^{}])+{([^{}])+}([^{}])+)+})/g,
-		REDUNDANT_WHITESPACE: /\s*(,|:|;|\{|\})\s*/g,
-		WHITESPACE_IN_PARENTHESES: /\(\s*(\S*)\s*\)/g,
-		MORE_WHITESPACE: /\s{2,}/g,
-		FINAL_SEMICOLONS: /;\}/g,
-		NOT_WHITESPACE: /\S+/g
-	};
-
-	var parsed, parsing = false;
-
-	var waiting = [];
-	var wait = function (fn) {
-		if (typeof fn === 'function') {
-			waiting[waiting.length] = fn;
-		}
-	};
-	var ready = function () {
-		for (var i = 0; i < waiting.length; i++) {
-			waiting[i](parsed);
-		}
-	};
-	var events = {};
-	var broadcast = function (n, v) {
-		if (events[n]) {
-			var listeners = events[n].listeners;
-			if (listeners) {
-				for (var i = 0; i < listeners.length; i++) {
-					listeners[i](v);
-				}
-			}
-		}
-	};
-
-	var requestText = function (url, fnSuccess, fnFailure) {
-		if (ua.ie && !window.XMLHttpRequest) {
-			window.XMLHttpRequest = function () {
-				return new ActiveXObject('Microsoft.XMLHTTP');
-			};
-		}
-		if (!XMLHttpRequest) {
-			return '';
-		}
-		var r = new XMLHttpRequest();
-		try {
-			r.open('get', url, true);
-			r.setRequestHeader('X_REQUESTED_WITH', 'XMLHttpRequest');
-		}
-		catch (e) {
-			fnFailure();
-			return;
-		}
-		var done = false;
-		setTimeout(function () {
-			done = true;
-		}, 5000);
-		document.documentElement.style.cursor = 'progress';
-		r.onreadystatechange = function () {
-			if (r.readyState === 4 && !done) {
-				if (!r.status && location.protocol === 'file:' ||
-						(r.status >= 200 && r.status < 300) ||
-						r.status === 304 ||
-						navigator.userAgent.indexOf('Safari') > -1 && typeof r.status === 'undefined') {
-					fnSuccess(r.responseText);
-				}
-				else {
-					fnFailure();
-				}
-				document.documentElement.style.cursor = '';
-				r = null; // avoid memory leaks
-			}
-		};
-		r.send('');
-	};
-
-	var sanitize = function (text) {
-		text = text.replace(regExp.REDUNDANT_COMPONENTS, '');
-		text = text.replace(regExp.REDUNDANT_WHITESPACE, '$1');
-        text = text.replace(regExp.WHITESPACE_IN_PARENTHESES, '($1)');
-		text = text.replace(regExp.MORE_WHITESPACE, ' ');
-		text = text.replace(regExp.FINAL_SEMICOLONS, '}'); // optional final semicolons
-		return text;
-	};
-
-	var objects = {
-	    stylesheet: function (el) {
-	        var o = {};
-	        var amqs = [], mqls = [], rs = [], rsw = [];
-	        var s = el.cssHelperText;
-
-	        // add attribute media queries
-	        var attr = el.getAttribute('media');
-	        if (attr) {
-	            var qts = attr.toLowerCase().split(',')
-	        }
-	        else {
-	            var qts = ['all'] // imply 'all'
-            }
-	        for (var i = 0; i < qts.length; i++) {
-	            amqs[amqs.length] = objects.mediaQuery(qts[i], o);
-	        }
-
-	        // add media query lists and rules (top down order)
-		    var blocks = s.match(regExp.BLOCKS); // @charset is not a block
-		    if (blocks !== null) {
-			    for (var i = 0; i < blocks.length; i++) {
-				    if (blocks[i].substring(0, 7) === '@media ') { // media query (list)
-					    var mql = objects.mediaQueryList(blocks[i], o);
-					    rs = rs.concat(mql.getRules());
-					    mqls[mqls.length] = mql;
-				    }
-				    else { // regular rule set, page context (@page) or font description (@font-face)
-					    rs[rs.length] = rsw[rsw.length] = objects.rule(blocks[i], o, null);
-				    }
-			    }
-		    }
-
-	        o.element = el;
-	        o.getCssText = function () {
-	            return s;
-	        };
-	        o.getAttrMediaQueries = function () {
-	            return amqs;
-	        };
-	        o.getMediaQueryLists = function () {
-	            return mqls;
-	        };
-	        o.getRules = function () {
-	            return rs;
-	        };
-	        o.getRulesWithoutMQ = function () {
-	            return rsw;
-	        };
-	        return o;
-	    },
-
-		mediaQueryList: function (s, stsh) {
-			var o = {};
-			var idx = s.indexOf('{');
-			var lt = s.substring(0, idx);
-			s = s.substring(idx + 1, s.length - 1);
-			var mqs = [], rs = [];
-
-			// add media queries
-			var qts = lt.toLowerCase().substring(7).split(',');
-			for (var i = 0; i < qts.length; i++) { // parse each media query
-				mqs[mqs.length] = objects.mediaQuery(qts[i], o);
-			}
-
-			// add rule sets
-			var rts = s.match(regExp.BLOCKS_INSIDE);
-			if (rts !== null) {
-				for (i = 0; i < rts.length; i++) {
-					rs[rs.length] = objects.rule(rts[i], stsh, o);
-				}
-			}
-
-			o.type = 'mediaQueryList';
-			o.getMediaQueries = function () {
-				return mqs;
-			};
-			o.getRules = function () {
-				return rs;
-			};
-			o.getListText = function () {
-				return lt;
-			};
-			o.getCssText = function () {
-				return s;
-			};
-			return o;
-		},
-
-		mediaQuery: function (s, listOrSheet) {
-			s = s || '';
-			var mql, stsh;
-			if (listOrSheet.type === 'mediaQueryList') {
-			    mql = listOrSheet;
-		    }
-		    else {
-		        stsh = listOrSheet;
-		    }
-			var not = false, type;
-			var expr = [];
-			var valid = true;
-			var tokens = s.match(regExp.NOT_WHITESPACE);
-
-
-
-			for (var i = 0; i < tokens.length; i++) {
-				var token = tokens[i];
-				if (!type && (token === 'not' || token === 'only')) { // 'not' and 'only' keywords
-					// keyword 'only' does nothing, as if it was not present
-					if (token === 'not') {
-						not = true;
-					}
-				}
-				else if (!type) { // media type
-					type = token;
-				}
-				else if (token.charAt(0) === '(') { // media feature expression
-					var pair = token.substring(1, token.length - 1).split(':');
-					expr[expr.length] = {
-						mediaFeature: pair[0],
-						value: pair[1] || null
-					};
-				}
-			}
-
-			return {
-			    getQueryText: function () {
-			        return s;
-			    },
-			    getAttrStyleSheet: function () {
-			        return stsh || null;
-			    },
-				getList: function () {
-					return mql || null;
-				},
-				getValid: function () {
-					return valid;
-				},
-				getNot: function () {
-					return not;
-				},
-				getMediaType: function () {
-					return type;
-				},
-				getExpressions: function () {
-					return expr;
-				}
-			};
-		},
-
-		rule: function (s, stsh, mql) {
-			var o = {};
-			var idx = s.indexOf('{');
-			var st = s.substring(0, idx);
-			var ss = st.split(',');
-			var ds = [];
-			var dts = s.substring(idx + 1, s.length - 1).split(';');
-			for (var i = 0; i < dts.length; i++) {
-				ds[ds.length] = objects.declaration(dts[i], o);
-			}
-
-			o.getStylesheet = function () {
-			    return stsh || null;
-			};
-			o.getMediaQueryList = function () {
-				return mql || null;
-			};
-			o.getSelectors = function () {
-				return ss;
-			};
-			o.getSelectorText = function () {
-				return st;
-			};
-			o.getDeclarations = function () {
-				return ds;
-			};
-			o.getPropertyValue = function (n) {
-				for (var i = 0; i < ds.length; i++) {
-					if (ds[i].getProperty() === n) {
-						return ds[i].getValue();
-					}
-				}
-				return null;
-			};
-			return o;
-		},
-
-		declaration: function (s, r) {
-			var idx = s.indexOf(':');
-			var p = s.substring(0, idx);
-			var v = s.substring(idx + 1);
-			return {
-				getRule: function () {
-					return r || null;
-				},
-				getProperty: function () {
-					return p;
-				},
-				getValue: function () {
-					return v;
-				}
-			};
-		}
-	};
-
-	var parseText = function (el) {
-		if (typeof el.cssHelperText !== 'string') {
-			return;
-		}
-		var o = {
-		    stylesheet: null,
-			mediaQueryLists: [],
-			rules: [],
-			selectors: {},
-			declarations: [],
-			properties: {}
-		};
-
-		// build stylesheet object
-		var stsh = o.stylesheet = objects.stylesheet(el);
-
-		// collect media query lists
-		var mqls = o.mediaQueryLists = stsh.getMediaQueryLists();
-
-		// collect all rules
-		var ors = o.rules = stsh.getRules();
-
-		// collect all selectors
-		var oss = o.selectors;
-		var collectSelectors = function (r) {
-			var ss = r.getSelectors();
-			for (var i = 0; i < ss.length; i++) {
-				var n = ss[i];
-				if (!oss[n]) {
-					oss[n] = [];
-				}
-				oss[n][oss[n].length] = r;
-			}
-		};
-		for (i = 0; i < ors.length; i++) {
-			collectSelectors(ors[i]);
-		}
-
-		// collect all declarations
-		var ods = o.declarations;
-		for (i = 0; i < ors.length; i++) {
-			ods = o.declarations = ods.concat(ors[i].getDeclarations());
-		}
-
-		// collect all properties
-		var ops = o.properties;
-		for (i = 0; i < ods.length; i++) {
-			var n = ods[i].getProperty();
-			if (!ops[n]) {
-				ops[n] = [];
-			}
-			ops[n][ops[n].length] = ods[i];
-		}
-
-		el.cssHelperParsed = o;
-		parsed[parsed.length] = el;
-		return o;
-	};
-
-	var parseEmbedded = function (el, s) {
-	    return;
-	    // This function doesn't work because of a bug in IE, where innerHTML gives us parsed css instead of raw literal.
-		el.cssHelperText = sanitize(s || el.innerHTML);
-		return parseText(el);
-	};
-
-	var parse = function () {
-		parsing = true;
-		parsed = [];
-		var linked = [];
-		var finish = function () {
-			for (var i = 0; i < linked.length; i++) {
-				parseText(linked[i]);
-			}
-			var styles = document.getElementsByTagName('style');
-			for (i = 0; i < styles.length; i++) {
-				parseEmbedded(styles[i]);
-			}
-			parsing = false;
-			ready();
-		};
-		var links = document.getElementsByTagName('link');
-		for (var i = 0; i < links.length; i++) {
-			var link = links[i];
-			if (link.getAttribute('rel').indexOf('style') > -1 && link.href && link.href.length !== 0 && !link.disabled) {
-				linked[linked.length] = link;
-			}
-		}
-		if (linked.length > 0) {
-			var c = 0;
-			var checkForFinish = function () {
-				c++;
-				if (c === linked.length) { // parse in right order, so after last link is read
-					finish();
-				}
-			};
-			var processLink = function (link) {
-				var href = link.href;
-				requestText(href, function (text) {
-					// fix url's
-					text = sanitize(text).replace(regExp.RELATIVE_URLS, 'url(' + href.substring(0, href.lastIndexOf('/')) + '/$1)');
-					link.cssHelperText = text;
-					checkForFinish();
-				}, checkForFinish);
-			};
-			for (i = 0; i < linked.length; i++) {
-				processLink(linked[i]);
-			}
-		}
-		else {
-			finish();
-		}
-	};
-
-	var types = {
-	    stylesheets: 'array',
-		mediaQueryLists: 'array',
-		rules: 'array',
-		selectors: 'object',
-		declarations: 'array',
-		properties: 'object'
-	};
-
-	var collections = {
-	    stylesheets: null,
-		mediaQueryLists: null,
-		rules: null,
-		selectors: null,
-		declarations: null,
-		properties: null
-	};
-
-	var addToCollection = function (name, v) {
-		if (collections[name] !== null) {
-			if (types[name] === 'array') {
-				return (collections[name] = collections[name].concat(v));
-			}
-			else {
-				var c = collections[name];
-				for (var n in v) {
-					if (v.hasOwnProperty(n)) {
-						if (!c[n]) {
-							c[n] = v[n];
-						}
-						else {
-							c[n] = c[n].concat(v[n]);
-						}
-					}
-				}
-				return c;
-			}
-		}
-	};
-
-	var collect = function (name) {
-		collections[name] = (types[name] === 'array') ? [] : {};
-		for (var i = 0; i < parsed.length; i++) {
-		    var pname = name === 'stylesheets' ? 'stylesheet' : name; // the exception
-			addToCollection(name, parsed[i].cssHelperParsed[pname]);
-		}
-		return collections[name];
-	};
-
-	// viewport size
-	var getViewportSize = function (d) {
-		if (typeof window.innerWidth != 'undefined') {
-			return window['inner' + d];
-		}
-		else if (typeof document.documentElement !== 'undefined'
-				&& typeof document.documentElement.clientWidth !== 'undefined'
-				&& document.documentElement.clientWidth != 0) {
-			return document.documentElement['client' + d];
-		}
-	};
-
-	// public static functions
-	return {
-		addStyle: function (s, mediaTypes, process) {
-			var el;
-			var styleElId = 'css-mediaqueries-js';
-			var styleMedia = '';
-
-			var styleEl = document.getElementById(styleElId);
-
-			if (mediaTypes && mediaTypes.length > 0) {
-			    styleMedia = mediaTypes.join(',');
-					styleElId += styleMedia;
-			}
-
-      if (null !== styleEl) {
-          el = styleEl;
-      }
-      else {
-          el = document.createElement('style');
-          el.setAttribute('type', 'text/css');
-          el.setAttribute('id', styleElId);
-          el.setAttribute('media', styleMedia);
-          document.getElementsByTagName('head')[0].appendChild(el);
-      }
-
-      if (el.styleSheet) { // IE
-          el.styleSheet.cssText += s;
-      }
-      else {
-	        el.appendChild(document.createTextNode(s));
-      }
-
-			el.addedWithCssHelper = true;
-
-			if (typeof process === 'undefined' || process === true) {
-				cssHelper.parsed(function (parsed) {
-					var o = parseEmbedded(el, s);
-					for (var n in o) {
-						if (o.hasOwnProperty(n)) {
-							addToCollection(n, o[n]);
-						}
-					}
-					broadcast('newStyleParsed', el);
-				});
-			}
-			else {
-				el.parsingDisallowed = true;
-			}
-			return el;
-		},
-
-		removeStyle: function (el) {
-			if (el.parentNode)
-				return el.parentNode.removeChild(el);
-		},
-
-		parsed: function (fn) {
-			if (parsing) {
-				wait(fn);
-			}
-			else {
-				if (typeof parsed !== 'undefined') {
-					if (typeof fn === 'function') {
-						fn(parsed);
-					}
-				}
-				else {
-					wait(fn);
-					parse();
-				}
-			}
-		},
-
-		stylesheets: function (fn) {
-		    cssHelper.parsed(function (parsed) {
-		        fn(collections.stylesheets || collect('stylesheets'));
-		    });
-		},
-
-		mediaQueryLists: function (fn) {
-			cssHelper.parsed(function (parsed) {
-				fn(collections.mediaQueryLists || collect('mediaQueryLists'));
-			});
-		},
-
-		rules: function (fn) {
-			cssHelper.parsed(function (parsed) {
-				fn(collections.rules || collect('rules'));
-			});
-		},
-
-		selectors: function (fn) {
-			cssHelper.parsed(function (parsed) {
-				fn(collections.selectors || collect('selectors'));
-			});
-		},
-
-		declarations: function (fn) {
-			cssHelper.parsed(function (parsed) {
-				fn(collections.declarations || collect('declarations'));
-			});
-		},
-
-		properties: function (fn) {
-			cssHelper.parsed(function (parsed) {
-				fn(collections.properties || collect('properties'));
-			});
-		},
-
-		broadcast: broadcast,
-
-		addListener: function (n, fn) { // in case n is 'styleadd': added function is called everytime style is added and parsed
-			if (typeof fn === 'function') {
-				if (!events[n]) {
-					events[n] = {
-						listeners: []
-					};
-				}
-				events[n].listeners[events[n].listeners.length] = fn;
-			}
-		},
-
-		removeListener: function (n, fn) {
-			if (typeof fn === 'function' && events[n]) {
-				var ls = events[n].listeners;
-				for (var i = 0; i < ls.length; i++) {
-					if (ls[i] === fn) {
-						ls.splice(i, 1);
-						i -= 1;
-					}
-				}
-			}
-		},
-
-		getViewportWidth: function () {
-			return getViewportSize('Width');
-		},
-
-		getViewportHeight: function () {
-			return getViewportSize('Height');
-		}
-	};
-}();
-
-
-
-// function to test and apply parsed media queries against browser capabilities
-domReady(function enableCssMediaQueries() {
-	var meter;
-
-	var regExp = {
-		LENGTH_UNIT: /[0-9]+(em|ex|px|in|cm|mm|pt|pc)$/,
-		RESOLUTION_UNIT: /[0-9]+(dpi|dpcm)$/,
-		ASPECT_RATIO: /^[0-9]+\/[0-9]+$/,
-		ABSOLUTE_VALUE: /^[0-9]*(\.[0-9]+)*$/
-	};
-
-	var styles = [];
-
-	var nativeSupport = function () {
-		// check support for media queries
-		var id = 'css3-mediaqueries-test';
-		var el = document.createElement('div');
-		el.id = id;
-		var style = cssHelper.addStyle('@media all and (width) { #' + id +
-			' { width: 1px !important; } }', [], false); // false means don't parse this temp style
-		document.body.appendChild(el);
-		var ret = el.offsetWidth === 1;
-		style.parentNode.removeChild(style);
-		el.parentNode.removeChild(el);
-		nativeSupport = function () {
-			return ret;
-		};
-		return ret;
-	};
-
-	var createMeter = function () { // create measuring element
-		meter = document.createElement('div');
-		meter.style.cssText = 'position:absolute;top:-9999em;left:-9999em;' +
-			'margin:0;border:none;padding:0;width:1em;font-size:1em;'; // cssText is needed for IE, works for the others
-		document.body.appendChild(meter);
-		// meter must have browser default font size of 16px
-		if (meter.offsetWidth !== 16) {
-			meter.style.fontSize = 16 / meter.offsetWidth + 'em';
-		}
-		meter.style.width = '';
-	};
-
-	var measure = function (value) {
-		meter.style.width = value;
-		var amount = meter.offsetWidth;
-		meter.style.width = '';
-		return amount;
-	};
-
-	var testMediaFeature = function (feature, value) {
-		// non-testable features: monochrome|min-monochrome|max-monochrome|scan|grid
-		var l = feature.length;
-		var min = (feature.substring(0, 4) === 'min-');
-		var max = (!min && feature.substring(0, 4) === 'max-');
-
-		if (value !== null) { // determine value type and parse to usable amount
-			var valueType;
-			var amount;
-			if (regExp.LENGTH_UNIT.exec(value)) {
-				valueType = 'length';
-				amount = measure(value);
-			}
-			else if (regExp.RESOLUTION_UNIT.exec(value)) {
-				valueType = 'resolution';
-				amount = parseInt(value, 10);
-				var unit = value.substring((amount + '').length);
-			}
-			else if (regExp.ASPECT_RATIO.exec(value)) {
-				valueType = 'aspect-ratio';
-				amount = value.split('/');
-			}
-			else if (regExp.ABSOLUTE_VALUE) {
-				valueType = 'absolute';
-				amount = value;
-			}
-			else {
-				valueType = 'unknown';
-			}
-		}
-
-		var width, height;
-		if ('device-width' === feature.substring(l - 12, l)) { // screen width
-			width = screen.width;
-			if (value !== null) {
-				if (valueType === 'length') {
-					return ((min && width >= amount) || (max && width < amount) || (!min && !max && width === amount));
-				}
-				else {
-					return false;
-				}
-			}
-			else { // test width without value
-				return width > 0;
-			}
-		}
-		else if ('device-height' === feature.substring(l - 13, l)) { // screen height
-			height = screen.height;
-			if (value !== null) {
-				if (valueType === 'length') {
-					return ((min && height >= amount) || (max && height < amount) || (!min && !max && height === amount));
-				}
-				else {
-					return false;
-				}
-			}
-			else { // test height without value
-				return height > 0;
-			}
-		}
-		else if ('width' === feature.substring(l - 5, l)) { // viewport width
-			width = document.documentElement.clientWidth || document.body.clientWidth; // the latter for IE quirks mode
-			if (value !== null) {
-				if (valueType === 'length') {
-					return ((min && width >= amount) || (max && width < amount) || (!min && !max && width === amount));
-				}
-				else {
-					return false;
-				}
-			}
-			else { // test width without value
-				return width > 0;
-			}
-		}
-		else if ('height' === feature.substring(l - 6, l)) { // viewport height
-			height = document.documentElement.clientHeight || document.body.clientHeight; // the latter for IE quirks mode
-			if (value !== null) {
-				if (valueType === 'length') {
-					return ((min && height >= amount) || (max && height < amount) || (!min && !max && height === amount));
-				}
-				else {
-					return false;
-				}
-			}
-			else { // test height without value
-				return height > 0;
-			}
-		}
-		else if ('orientation' === feature.substring(l - 11, l)) { // orientation
-
-			width = document.documentElement.clientWidth || document.body.clientWidth; // the latter for IE quirks mode
-			height = document.documentElement.clientHeight || document.body.clientHeight; // the latter for IE quirks mode
-
-			if (valueType === 'absolute') {
-				return (amount === 'portrait') ? (width <= height) : (width > height);
-			}
-			else {
-				return false;
-			}
-		}
-		else if ('aspect-ratio' === feature.substring(l - 12, l)) { // window aspect ratio
-			width = document.documentElement.clientWidth || document.body.clientWidth; // the latter for IE quirks mode
-			height = document.documentElement.clientHeight || document.body.clientHeight; // the latter for IE quirks mode
-
-			var curRatio = width / height;
-			var ratio = amount[1] / amount[0];
-
-			if (valueType === 'aspect-ratio') {
-				return ((min && curRatio >= ratio) || (max && curRatio < ratio) || (!min && !max && curRatio === ratio));
-			}
-			else {
-				return false;
-			}
-		}
-		else if ('device-aspect-ratio' === feature.substring(l - 19, l)) { // screen aspect ratio
-			return valueType === 'aspect-ratio' && screen.width * amount[1] === screen.height * amount[0];
-		}
-		else if ('color-index' === feature.substring(l - 11, l)) { // number of colors
-			var colors = Math.pow(2, screen.colorDepth);
-			if (value !== null) {
-				if (valueType === 'absolute') {
-					return ((min && colors >= amount) || (max && colors < amount) || (!min && !max && colors === amount));
-				}
-				else {
-					return false;
-				}
-			}
-			else { // test height without value
-				return colors > 0;
-			}
-		}
-		else if ('color' === feature.substring(l - 5, l)) { // bits per color component
-			var color = screen.colorDepth;
-			if (value !== null) {
-				if (valueType === 'absolute') {
-					return ((min && color >= amount) || (max && color < amount) || (!min && !max && color === amount));
-				}
-				else {
-					return false;
-				}
-			}
-			else { // test height without value
-				return color > 0;
-			}
-		}
-		else if ('resolution' === feature.substring(l - 10, l)) {
-			var res;
-			if (unit === 'dpcm') {
-				res = measure('1cm');
-			}
-			else {
-				res = measure('1in');
-			}
-			if (value !== null) {
-				if (valueType === 'resolution') {
-					return ((min && res >= amount) || (max && res < amount) || (!min && !max && res === amount));
-				}
-				else {
-					return false;
-				}
-			}
-			else { // test height without value
-				return res > 0;
-			}
-		}
-		else {
-			return false;
-		}
-	};
-
-	var testMediaQuery = function (mq) {
-		var test = mq.getValid();
-		var expressions = mq.getExpressions();
-		var l = expressions.length;
-		if (l > 0) {
-			for (var i = 0; i < l && test; i++) {
-				test = testMediaFeature(expressions[i].mediaFeature, expressions[i].value);
-			}
-			var not = mq.getNot();
-			return (test && !not || not && !test);
-		}
-		return test;
-	};
-
-	var testMediaQueryList = function (mql, ts) {
-	    // ts is null or an array with any media type but 'all'.
-		var mqs = mql.getMediaQueries();
-		var t = {};
-		for (var i = 0; i < mqs.length; i++) {
-		    var type = mqs[i].getMediaType();
-		    if (mqs[i].getExpressions().length === 0) {
-		        continue;
-		        // TODO: Browser check! Assuming old browsers do apply the bare media types, even in a list with media queries.
-		    }
-		    var typeAllowed = true;
-		    if (type !== 'all' && ts && ts.length > 0) {
-		        typeAllowed = false;
-		        for (var j = 0; j < ts.length; j++) {
-		            if (ts[j] === type) {
-		                typeAllowed = true;
-                    }
-		        }
-		    }
-			if (typeAllowed && testMediaQuery(mqs[i])) {
-				t[type] = true;
-			}
-		}
-		var s = [], c = 0;
-		for (var n in t) {
-			if (t.hasOwnProperty(n)) {
-				if (c > 0) {
-					s[c++] = ',';
-				}
-				s[c++] = n;
-			}
-		}
-		if (s.length > 0) {
-			styles[styles.length] = cssHelper.addStyle('@media ' + s.join('') + '{' + mql.getCssText() + '}', ts, false);
-		}
-	};
-
-	var testMediaQueryLists = function (mqls, ts) {
-		for (var i = 0; i < mqls.length; i++) {
-			testMediaQueryList(mqls[i], ts);
-		}
-	};
-
-	var testStylesheet = function (stsh) {
-	    var amqs = stsh.getAttrMediaQueries();
-	    var allPassed = false;
-	    var t = {};
-		for (var i = 0; i < amqs.length; i++) {
-			if (testMediaQuery(amqs[i])) {
-				t[amqs[i].getMediaType()] = amqs[i].getExpressions().length > 0;
-			}
-		}
-		var ts = [], tswe = [];
-		for (var n in t) {
-			if (t.hasOwnProperty(n)) {
-				ts[ts.length] = n;
-				if (t[n]) {
-				    tswe[tswe.length] = n
-				}
-			    if (n === 'all') {
-			        allPassed = true;
-                }
-			}
-		}
-		if (tswe.length > 0) { // types with query expressions that passed the test
-		    styles[styles.length] = cssHelper.addStyle(stsh.getCssText(), tswe, false);
-		}
-		var mqls = stsh.getMediaQueryLists();
-		if (allPassed) {
-		    // If 'all' in media attribute passed the test, then test all @media types in linked CSS and create style with those types.
-		    testMediaQueryLists(mqls);
-		}
-		else {
-		    // Or else, test only media attribute types that passed the test and also 'all'.
-		    // For positive '@media all', create style with attribute types that passed their test.
-		    testMediaQueryLists(mqls, ts);
-	    }
-    };
-
-	var testStylesheets = function (stshs) {
-	    for (var i = 0; i < stshs.length; i++) {
-	        testStylesheet(stshs[i]);
-	    }
-	    if (ua.ie) {
-			// force repaint in IE
-			document.documentElement.style.display = 'block';
-			setTimeout(function () {
-				document.documentElement.style.display = '';
-			}, 0);
-			// delay broadcast somewhat for IE
-			setTimeout(function () {
-				cssHelper.broadcast('cssMediaQueriesTested');
-			}, 100);
-		}
-		else {
-			cssHelper.broadcast('cssMediaQueriesTested');
-		}
-	};
-
-	var test = function () {
-		for (var i = 0; i < styles.length; i++) {
-			cssHelper.removeStyle(styles[i]);
-		}
-		styles = [];
-		cssHelper.stylesheets(testStylesheets);
-	};
-
-	var scrollbarWidth = 0;
-	var checkForResize = function () {
-		var cvpw = cssHelper.getViewportWidth();
-		var cvph = cssHelper.getViewportHeight();
-
-		// determine scrollbar width in IE, see resizeHandler
-		if (ua.ie) {
-			var el = document.createElement('div');
-			el.style.position = 'absolute';
-			el.style.top = '-9999em';
-			el.style.overflow = 'scroll';
-			document.body.appendChild(el);
-			scrollbarWidth = el.offsetWidth - el.clientWidth;
-			document.body.removeChild(el);
-		}
-
-		var timer;
-		var resizeHandler = function () {
-			var vpw = cssHelper.getViewportWidth();
-			var vph = cssHelper.getViewportHeight();
-			// check whether vp size has really changed, because IE also triggers resize event when body size changes
-			// 20px allowance to accomodate short appearance of scrollbars in IE in some cases
-			if (Math.abs(vpw - cvpw) > scrollbarWidth || Math.abs(vph - cvph) > scrollbarWidth) {
-				cvpw = vpw;
-				cvph = vph;
-				clearTimeout(timer);
-				timer = setTimeout(function () {
-					if (!nativeSupport()) {
-						test();
-					}
-					else {
-						cssHelper.broadcast('cssMediaQueriesTested');
-					}
-				}, 500);
-			}
-		};
-
-		window.onresize = function () {
-			var x = window.onresize || function () {}; // save original
-			return function () {
-				x();
-				resizeHandler();
-			};
-		}();
-	};
-
-	// prevent jumping of layout by hiding everything before painting <body>
-    var docEl = document.documentElement;
-	docEl.style.marginLeft = '-32767px';
-
-	// make sure it comes back after a while
-	setTimeout(function () {
-		docEl.style.marginLeft = '';
-	}, 5000);
-
-	return function () {
-		if (!nativeSupport()) { // if browser doesn't support media queries
-			cssHelper.addListener('newStyleParsed', function (el) {
-				testStylesheet(el.cssHelperParsed.stylesheet);
-			});
-			// return visibility after media queries are tested
-			cssHelper.addListener('cssMediaQueriesTested', function () {
-				// force repaint in IE by changing width
-				if (ua.ie) {
-					docEl.style.width = '1px';
-				}
-				setTimeout(function () {
-					docEl.style.width = ''; // undo width
-					docEl.style.marginLeft = ''; // undo hide
-				}, 0);
-				// remove this listener to prevent following execution
-				cssHelper.removeListener('cssMediaQueriesTested', arguments.callee);
-			});
-			createMeter();
-			test();
-		}
-		else {
-			docEl.style.marginLeft = ''; // undo visibility hidden
-		}
-		checkForResize();
-	};
-}());
-
-
-// bonus: hotfix for IE6 SP1 (bug KB823727)
-try {
-	document.execCommand('BackgroundImageCache', false, true);
-} catch (e) {}
\ No newline at end of file
diff --git a/resources/views/goaisatu.blade.php b/resources/views/goaisatu.blade.php
deleted file mode 100644
index 14023a3..0000000
--- a/resources/views/goaisatu.blade.php
+++ /dev/null
@@ -1,210 +0,0 @@
-<!DOCTYPE HTML>
-<html lang="ja">
-<head>
-<meta charset="utf-8">
-<meta http-equiv="X-UA-Compatible" content="IE=edge">
-<title>ホームページ・タイトル</title>
-<meta name="viewport" content="width=device-width">
-<meta name="keywords" content="キーワード">
-<meta name="description" content="紹介文">
-<link rel="stylesheet" type="text/css" href="{{{asset('assets/css/sp.css?').str_random(5)}}}">
-<link rel="stylesheet" type="text/css" href="{{{asset('assets/css/pc.css?').str_random(5)}}}">
-<!--[if lt IE 9]>
-<script src="js/html5.js"></script>
-<script src="js/css3-mediaqueries.js"></script>
-<![endif]-->
-
-</head>
-
-<body>
-
-<!-- メイン -->
-
-<div id="main">
-
-
-<!-- ヘッダー -->
-
-<div id="header">
-
-<h1>こちらには、メインキーワードや紹介文を入れてください</h1>
-
-  <div id="header_inner">
-   <div id="h_logo"><h2><a href="index.html">テンプレートカンパニー</a></h2></div>
-   <div id="h_info">
-<p>お問い合わせをお待ちしております</p>
-<p class="tel">TEL. 00-0000-0000</p>
-<p><b>営業時間</b> AM10:00 ～ PM20:00</p>
-</div>
-  </div>
-
-</div>
-
-<div id="header-menu">
-  <ul class="clearfix">
-    <li class="home"><a href="index.html">ホーム<br /><span class="sub">home</span></a></li>
-    <li><a href="goaisatu.html">ご挨拶<br /><span class="sub">goaisatu</span></a></li>
-    <li><a href="information.html">業務内容<br /><span class="sub">infomation</span></a></li>
-    <li><a href="profile.html">会社概要<br /><span class="sub">profile</span></a></li>
-    <li><a href="faq.html">よくあるご質問<br /><span class="sub">faq</span></a></li>
-    <li><a href="contact.html">お問い合わせ<br /><span class="sub">contact</span></a></li>
-   </ul>
-</div>
-
-
-<!-- メイン画像 ここから -->
-<div id="header-img">
-<img src="img/head_img_slim.png" alt="head_img_slim" class="main_photo">
-</div>
-<!-- メイン画像 ここまで -->
-
-
-
-<!-- ヘッダー終わり -->
-
-
-<!-- コンテンツ -->
-
-<!-- メインコンテンツ -->
-
-<div id="container">
-  <div id="contents">
-
-
-<div id="pannavi">
-<a href="index.html">HOME</a> &gt; ごあいさつのページ
-</div>
-
-
-
-
-<h2 class="page_title">ごあいさつ</h2>
-
-<p>こちらには、ごあいさつなどを記載してください。</p>
-
-<hr class="line">
-
-<p>&nbsp;</p>
-
-
-
-
-
-
-
-<h2 class="page_title">お問い合わせはコチラへ！</h2>
-
-<div class="gray_bg_contact">
-
-<p><img src="img/icon.gif" alt="icon"> <b>電話番号</b>： <span class="red_b">00-0000-0000</span>　<img src="img/icon.gif" alt="icon"> <b>FAX</b>： <span class="red_b">00-0000-0000</span><br>
-ご不明な点がございましたら、まずはお気軽にご相談下さい。<br>
-<b><a href="contact.html">→メールでのお問い合わせ</a></b></p>
-
-</div>
-
-
-
-
-
-
-<hr class="line">
-
-<p class="back"><a href="#header"><img class="scroll" src="img/pagetop.png" alt="ページトップに戻る"></a></p>
-
-<br>
-
-
-  </div>
-
-<!-- メインコンテンツ終わり -->
-
-<!-- サイドエリア -->
-
-  <div id="menu">
-
-
-
-<div class="menu_btn">
-<a href="contact.html">お問い合わせ<br />contact</a>
-</div>
-
-
-
-<div class="menu_btn">
-<a href="profile.html">会社概要<br />profile</a>
-</div>
-
-
-
-
-
-<div class="menulist">
-   <h3>サイトメニュー</h3>
-<ul>
-<li><a href="index.html">ホーム</a></li>
-<li><a href="goaisatu.html">ご挨拶</a></li>
-<li><a href="information.html">業務内容</a></li>
-<li><a href="profile.html">会社概要</a></li>
-<li><a href="faq.html">よくあるご質問</a></li>
-<li><a href="contact.html">お問い合わせ</a></li>
-</ul>
-</div>
-
-
-
-
-
-
-<div class="menu_free">
-   <h3>Information</h3>
-<p><span class="brown_b">【テンプレートカンパニー】</span><br>
-<img src="img/icon.gif" alt=""> <span class="red_b">TEL.00-0000-0000</span><br>
-天賦市天賦の町1-10-10
-</p>
-</div>
-
-
-
-
-
-
-<div class="menu_btn_under">
-<a href="#">スタッフのブログ<br />staff blog</a>
-</div>
-
-
-
-
-
-<!-- PC向け・非表示 -->
-<div class="menu_back">
-<p class="back"><a href="#header"><img class="scroll" src="img/pagetop.png" alt="ページトップに戻る"></a></p>
-</div>
-<!-- 非表示ここまで -->
-
-
-  </div>
-
-<!-- サイドエリア終わり -->
-
-</div>
-
-<!-- コンテンツ終わり -->
-
-<!-- フッター -->
-
-<div id="footer">
-<a href="index.html">ホーム</a>　|　<a href="goaisatu.html">ご挨拶</a>　|　<a href="information.html">業務内容</a>　|　<a href="profile.html">会社概要</a>　|　<a href="faq.html">よくあるご質問</a>　|　<a href="contact.html">お問い合わせ</a>　|　<a href="link.html">リンク</a>　|　<a href="sitemap.html">サイトマップ</a>
-<br>
-<br>
-Copyright (C) 20xx SITE NAME All Rights Reserved.　design by <a href="http://tempnate.com/" target="_blank">tempnate</a>
-</div>
-
-<!-- フッター終わり -->
-
-</div>
-
-<!-- メイン終わり -->
-
-</body>
-</html>
diff --git a/resources/views/html5.js b/resources/views/html5.js
deleted file mode 100644
index 448cebd..0000000
--- a/resources/views/html5.js
+++ /dev/null
@@ -1,8 +0,0 @@
-/*
- HTML5 Shiv v3.7.0 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
-*/
-(function(l,f){function m(){var a=e.elements;return"string"==typeof a?a.split(" "):a}function i(a){var b=n[a[o]];b||(b={},h++,a[o]=h,n[h]=b);return b}function p(a,b,c){b||(b=f);if(g)return b.createElement(a);c||(c=i(b));b=c.cache[a]?c.cache[a].cloneNode():r.test(a)?(c.cache[a]=c.createElem(a)).cloneNode():c.createElem(a);return b.canHaveChildren&&!s.test(a)?c.frag.appendChild(b):b}function t(a,b){if(!b.cache)b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag();
-a.createElement=function(c){return!e.shivMethods?b.createElem(c):p(c,a,b)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){b.createElem(a);b.frag.createElement(a);return'c("'+a+'")'})+");return n}")(e,b.frag)}function q(a){a||(a=f);var b=i(a);if(e.shivCSS&&!j&&!b.hasCSS){var c,d=a;c=d.createElement("p");d=d.getElementsByTagName("head")[0]||d.documentElement;c.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>";
-c=d.insertBefore(c.lastChild,d.firstChild);b.hasCSS=!!c}g||t(a,b);return a}var k=l.html5||{},s=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,r=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,j,o="_html5shiv",h=0,n={},g;(function(){try{var a=f.createElement("a");a.innerHTML="<xyz></xyz>";j="hidden"in a;var b;if(!(b=1==a.childNodes.length)){f.createElement("a");var c=f.createDocumentFragment();b="undefined"==typeof c.cloneNode||
-"undefined"==typeof c.createDocumentFragment||"undefined"==typeof c.createElement}g=b}catch(d){g=j=!0}})();var e={elements:k.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==k.shivCSS,supportsUnknownElements:g,shivMethods:!1!==k.shivMethods,type:"default",shivDocument:q,createElement:p,createDocumentFragment:function(a,b){a||(a=f);
-if(g)return a.createDocumentFragment();for(var b=b||i(a),c=b.frag.cloneNode(),d=0,e=m(),h=e.length;d<h;d++)c.createElement(e[d]);return c}};l.html5=e;q(f)})(this,document);
diff --git a/resources/views/index.blade.php b/resources/views/index.blade.php
deleted file mode 100644
index 4928f68..0000000
--- a/resources/views/index.blade.php
+++ /dev/null
@@ -1,234 +0,0 @@
-@extends('commons.layout')
-@include('commons.header')
-@section('content')
-
-<body>
-
-<!-- メイン -->
-
-<div id="main">
-
-
-<!-- ヘッダー -->
-
-<div id="header">
-
-<h1>こちらには、メインキーワードや紹介文を入れてください</h1>
-
-  <div id="header_inner">
-   <div id="h_logo"><h2><a href="index.html">テンプレートカンパニー</a></h2></div>
-   <div id="h_info">
-<p>お問い合わせをお待ちしております</p>
-<p class="tel">TEL. 00-0000-0000</p>
-<p><b>営業時間</b> AM10:00 ～ PM20:00</p>
-</div>
-  </div>
-
-</div>
-
-<div id="header-menu">
-  <ul class="clearfix">
-    <li class="home"><a href="index.html">ホーム<br /><span class="sub">home</span></a></li>
-    <li><a href="goaisatu.html">ご挨拶<br /><span class="sub">goaisatu</span></a></li>
-    <li><a href="information.html">業務内容<br /><span class="sub">infomation</span></a></li>
-    <li><a href="profile.html">会社概要<br /><span class="sub">profile</span></a></li>
-    <li><a href="faq.html">よくあるご質問<br /><span class="sub">faq</span></a></li>
-    <li><a href="contact.html">お問い合わせ<br /><span class="sub">contact</span></a></li>
-   </ul>
-</div>
-
-
-<!-- メイン画像 ここから -->
-<div id="header-img">
-<img src="img/head_img.png" alt="head_img" class="main_photo">
-</div>
-<!-- メイン画像 ここまで -->
-
-
-
-<!-- ヘッダー終わり -->
-
-
-<!-- コンテンツ -->
-
-<!-- メインコンテンツ -->
-
-<div id="container">
-  <div id="contents">
-
-
-
-
-<h2 class="page_title">天賦事務所からのごあいさつ</h2>
-
-
-
-<p><span class="brown_big">キャッチコピーなどのお伝えしたい要約文を記載してください。</span></p>
-
-<p><img class="picture" src="img/photo_01.jpg" alt="photo">
-こちらには、本文を掲載し、下に見出しを追加して、本文を追加していってください。そして、サイト名を入力し、一番上の１行にはサイト紹介文を記載し、一番下のコピーライト部分にサイト名などを入れてください。</p>
-
-<p>「 design by tempnate 」という当サイトの著作権テキストは削除しないで下さい。表示の削除をご希望される場合は <a href="http://tempnate.com/tinyd0+index.id+5.htm" rel="nofollow" target="_blank">著作権テキスト削除サービス</a>をご検討くださいませ。</p>
-
-<p>また、トップページができ上がりましたら、「よくあるご質問ページ」など１つ１つページを複製して、ファイルの名前を「faq.html」などに変更してコンテンツを作成してください。<br class="clear"></p>
-
-<hr class="line">
-
-<p>&nbsp;</p>
-
-
-
-
-
-
-
-
-
-
-
-
-<h2 class="page_title">お問い合わせはコチラへ！</h2>
-
-<div class="gray_bg_contact">
-
-<p><img src="img/icon.gif" alt="icon"> <b>電話番号</b>： <span class="red_b">00-0000-0000</span>　<img src="img/icon.gif" alt="icon">
-
-<b>FAX</b>： <span class="red_b">00-0000-0000</span><br>
-ご不明な点がございましたら、まずはお気軽にご相談下さい。<br>
-<b><a href="contact.html">→メールでのお問い合わせ</a></b></p>
-
-</div>
-
-<hr class="line">
-
-<p>&nbsp;</p>
-
-
-
-
-
-
-
-
-
-
-<h2 class="page_title">最新情報＆更新情報</h2>
-
-<div id="news">
-20xx.4.10 <a href="#">新サービスを開始いたしました。</a><br>
-<hr class="line">
-20xx.3.26 <a href="#">新サービスについてのプレスリリースをご覧ください。</a><br>
-<hr class="line">
-20xx.3.10 <a href="#">天賦会館でセミナーを行ないました。</a><br>
-<hr class="line">
-20xx.3.08 <a href="#">会社概要ページを更新しました。</a><br>
-<hr class="line">
-</div>
-
-
-
-
-
-
-
-<p class="back"><a href="#header"><img class="scroll" src="img/pagetop.png" alt="ページトップに戻る"></a></p>
-
-
-  </div>
-
-<!-- メインコンテンツ終わり -->
-
-<!-- サイドエリア -->
-
-  <div id="menu">
-
-
-
-<div class="menu_btn">
-<a href="contact.html">お問い合わせ<br />contact</a>
-</div>
-
-
-
-<div class="menu_btn">
-<a href="profile.html">会社概要<br />profile</a>
-</div>
-
-
-
-
-
-<div class="menulist">
-   <h3>サイトメニュー</h3>
-<ul>
-<li><a href="index.html">ホーム</a></li>
-<li><a href="goaisatu.html">ご挨拶</a></li>
-<li><a href="information.html">業務内容</a></li>
-<li><a href="profile.html">会社概要</a></li>
-<li><a href="faq.html">よくあるご質問</a></li>
-<li><a href="contact.html">お問い合わせ</a></li>
-</ul>
-</div>
-
-
-
-
-
-
-<div class="menu_free">
-   <h3>Information</h3>
-<p><span class="brown_b">【テンプレートカンパニー】</span><br>
-<img src="img/icon.gif" alt=""> <span class="red_b">TEL.00-0000-0000</span><br>
-天賦市天賦の町1-10-10
-</p>
-</div>
-
-
-
-
-
-
-<div class="menu_btn_under">
-<a href="#">スタッフのブログ<br />staff blog</a>
-</div>
-
-
-
-
-
-<!-- PC向け・非表示 -->
-<div class="menu_back">
-<p class="back"><a href="#header"><img class="scroll" src="img/pagetop.png" alt="ページトップに戻る"></a></p>
-</div>
-<!-- 非表示ここまで -->
-
-
-  </div>
-
-<!-- サイドエリア終わり -->
-
-</div>
-
-<!-- コンテンツ終わり -->
-
-<!-- フッター -->
-
-<div id="footer">
-<a href="index.html">ホーム</a>　|　<a href="goaisatu.html">ご挨拶</a>　|　<a href="information.html">業務内容</a>　|　<a href="profile.html">会社概要</a>　|　<a href="faq.html">よくあるご質問</a>　|　<a href="contact.html">お問い合わせ</a>　|　<a href="link.html">リンク</a>　|　<a href="sitemap.html">サイトマップ</a>
-<br>
-<br>
-Copyright (C) 20xx SITE NAME All Rights Reserved.　design by <a href="http://tempnate.com/" target="_blank">tempnate</a>
-</div>
-
-<!-- フッター終わり -->
-
-</div>
-
-<!-- メイン終わり -->
-
-</body>
-@stop
-@section('endJs')
-
-@stop
-@include('commons.footer')
diff --git a/resources/views/js/login-js.blade.php b/resources/views/js/login-js.blade.php
index 4835d96..51dccb5 100644
--- a/resources/views/js/login-js.blade.php
+++ b/resources/views/js/login-js.blade.php
@@ -1,7 +1,6 @@
 <script>
 var getLoginCallback = function(ele) {
     var callback = function(data) {
-        console.log(data)
         if (data.code !== undefined) {
             if (data.code === '0') {
                 // 正常時
@@ -20,7 +19,6 @@ var getLoginCallback = function(ele) {
 
 var getRegistCallback = function(ele) {
     var callback = function(data) {
-        console.log(data)
         if (data.code !== undefined) {
             if (data.code === '0') {
                 // 正常時
@@ -46,7 +44,6 @@ var login = function(event, ele)
     }
     var callback = getLoginCallback();
     var failcallback = getFailCallback();
-    console.log(formObj);
     execAjax(ele.url.login, formObj, callback, failcallback);
 }
 
@@ -71,13 +68,14 @@ var app = new Vue({
         message : 'Login',
 		email : '',
 		password : '',
+        sessions : '{!! json_encode(session()->all()) !!}',
         url : {
-            login : '{{ route($func::LOGIN) }}',
-            regist : '{{ route($func::MEMBER_REGIST) }}'
+            login : '{{ route($func::GET_LOGIN) }}',
+            regist : '{{ route($func::REGIST_NEW_MEMBER) }}'
         }
     },
 	created : function() {
-        //
+         this.sessions = $.parseJSON(this.sessions);
 	},
 	computed : {
 		sha256 : function() {
@@ -94,4 +92,8 @@ var app = new Vue({
 	}
 });
 
+Vue.component('session-all', {
+
+})
+
 </script>
diff --git a/resources/views/login.blade.php b/resources/views/login.blade.php
index 7f7359e..8fce049 100644
--- a/resources/views/login.blade.php
+++ b/resources/views/login.blade.php
@@ -3,12 +3,14 @@
 @section('content')
 @inject('func', 'App\Definitions\FunctionsDefinition')
 <body>
-	<form method="post" action="{{{ route($func::LOGIN) }}}" id="login-form">
+	<form method="post" action="{{{ route($func::GET_LOGIN) }}}" id="login-form">
 		<input type="text" name="email" value="" v-model="email" data-email="aaa">
 		<input type="password" name="passward" value="bbs" v-model="password" data-password="aa">
 		<button type="button" id="login-button" @click="login">@{{ message }}</button>
 		<button type="button" id="login-button" @click="regist">REGIST</button>
-		<input type="hidden" value="{{  route($func::LOGIN) }}" name="action">
+		<button type="submit" id='login-submit'>ログイン</button>
+		{!! csrf_field() !!}
+		<input type="hidden" value="{{  route($func::GET_LOGIN) }}" name="action">
 	</form>
 </body>
 @stop
diff --git a/resources/views/welcome.blade.php b/resources/views/welcome.blade.php
deleted file mode 100644
index 44b7e72..0000000
--- a/resources/views/welcome.blade.php
+++ /dev/null
@@ -1,95 +0,0 @@
-<!DOCTYPE html>
-<html lang="{{ config('app.locale') }}">
-    <head>
-        <meta charset="utf-8">
-        <meta http-equiv="X-UA-Compatible" content="IE=edge">
-        <meta name="viewport" content="width=device-width, initial-scale=1">
-
-        <title>Laravel</title>
-
-        <!-- Fonts -->
-        <link href="https://fonts.googleapis.com/css?family=Raleway:100,600" rel="stylesheet" type="text/css">
-
-        <!-- Styles -->
-        <style>
-            html, body {
-                background-color: #fff;
-                color: #636b6f;
-                font-family: 'Raleway', sans-serif;
-                font-weight: 100;
-                height: 100vh;
-                margin: 0;
-            }
-
-            .full-height {
-                height: 100vh;
-            }
-
-            .flex-center {
-                align-items: center;
-                display: flex;
-                justify-content: center;
-            }
-
-            .position-ref {
-                position: relative;
-            }
-
-            .top-right {
-                position: absolute;
-                right: 10px;
-                top: 18px;
-            }
-
-            .content {
-                text-align: center;
-            }
-
-            .title {
-                font-size: 84px;
-            }
-
-            .links > a {
-                color: #636b6f;
-                padding: 0 25px;
-                font-size: 12px;
-                font-weight: 600;
-                letter-spacing: .1rem;
-                text-decoration: none;
-                text-transform: uppercase;
-            }
-
-            .m-b-md {
-                margin-bottom: 30px;
-            }
-        </style>
-    </head>
-    <body>
-        <div class="flex-center position-ref full-height">
-            @if (Route::has('login'))
-                <div class="top-right links">
-                    @if (Auth::check())
-                        <a href="{{ url('/home') }}">Home</a>
-                    @else
-                        <a href="{{ url('/login') }}">Login</a>
-                        <a href="{{ url('/register') }}">Register</a>
-                    @endif
-                </div>
-            @endif
-
-            <div class="content">
-                <div class="title m-b-md">
-                    Laravel
-                </div>
-
-                <div class="links">
-                    <a href="https://laravel.com/docs">Documentation</a>
-                    <a href="https://laracasts.com">Laracasts</a>
-                    <a href="https://laravel-news.com">News</a>
-                    <a href="https://forge.laravel.com">Forge</a>
-                    <a href="https://github.com/laravel/laravel">GitHub</a>
-                </div>
-            </div>
-        </div>
-    </body>
-</html>
diff --git a/routes/web.php b/routes/web.php
index ec988d8..0829757 100644
--- a/routes/web.php
+++ b/routes/web.php
@@ -13,8 +13,17 @@
 
 use App\Definitions\FunctionsDefinition;
 
-foreach (FunctionsDefinition::URL as $id=>$url) {
-    if (FunctionsDefinition::CONTROLLER[$id] !== "" && FunctionsDefinition::CONTROLLER[$id] !== "-") {
+
+foreach(FunctionsDefinition::URL as $id=>$url){
+    if(FunctionsDefinition::CONTROLLER[$id] !== "" && isset(FunctionsDefinition::IGNORE_LOGIN_MIDDLEWARE[$id])){
         Route::match(['get', 'post'], $url, FunctionsDefinition::CONTROLLER[$id])->name($id);
     }
 }
+
+Route::group(['middleware' => 'login'], function () {
+    foreach (FunctionsDefinition::URL as $id=>$url) {
+        if (FunctionsDefinition::CONTROLLER[$id] !== "" && !isset(FunctionsDefinition::IGNORE_LOGIN_MIDDLEWARE[$id])) {
+            Route::match(['get', 'post'], $url, FunctionsDefinition::CONTROLLER[$id])->name($id);
+        }
+    }
+});
-- 
2.10.0.windows.1

